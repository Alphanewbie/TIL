# async


## async 란?

`async`란 Python 표준 라이브러리의 일부인 **`asyncio`** 라이브러리를 사용하는 것을 말합니다. 이것은 코루틴을 사용하여 싱글 스레드 동시 코드를 작성하고, I/O 접근을 멀티플렉싱하며, 네트워크 클라이언트 및 서버를 실행하기 위한 프레임워크를 제공합니다. Python의 `async`에 대한 몇 가지 주요 포인트는 다음과 같습니다:

1. **비동기 프로그래밍**: 이는 다른 함수가 실행될 수 있도록 함수를 일시 중지할 수 있는 프로그래밍 스타일입니다. 이는 I/O 바운드 및 고수준 구조화된 네트워크 코드에 특히 유용합니다.
2. **`async` 및 `await` 구문을 사용한 코루틴**: Python 코루틴은 중단하고 재개할 수 있는 함수입니다. **`async def`** 구문을 사용하여 정의됩니다. 이러한 함수를 호출하고 **`await`** 키워드를 사용하여 완료될 때까지 기다릴 수 있습니다.
3. **이벤트 루프**: Python에서 비동기 프로그래밍의 핵심은 이벤트 루프입니다. 이 루프는 다양한 작업의 실행을 관리하고 배분하는 역할을 합니다. 실행 중인 모든 작업을 추적하고 I/O 작업 등으로 유휴 상태일 때 실행됩니다.
4. **동시성**: **`asyncio`**는 종종 동시성과 관련이 있지만, 실제 병렬성(즉, 여러 스레드나 프로세스의 동시 실행)을 제공하지는 않습니다. 대신, 현재 실행 중인 작업이 이벤트 루프에 제어를 양도해야 하는 협력적 멀티태스킹을 기반으로 합니다.
5. **사용 사례**: **`asyncio`**는 고수준 네트워크 연결, 웹 소켓, 여러 I/O 바운드 작업을 동시에 수행하는 시나리오 등에서 자주 사용됩니다.
- 예제

```python
import asyncio

async def main():
    print('Hello')
    await asyncio.sleep(1)
    print('World')

asyncio.run(main())
```

## run

1. 목적
    1. **`asyncio.run`**은 비동기 프로그램의 주 진입점으로 비동기 함수를 실행하는 데 사용되는 함수.
2. 사용 방법
    
    ```python
    asyncio.run(coro, *, debug=False)
    ```
    
    - **`coro`**: 실행할 코루틴. 일반적으로 **`async def`**를 사용하여 정의한 함수입니다.
    - **`debug`**: 선택 사항. **`True`**로 설정하면, 이벤트 루프가 디버그 모드에서 실행됩니다.
3. **벤트 루프 관리**: Python 3.7 이전에는 이벤트 루프를 수동으로 관리해야 했고, 이벤트 루프를 생성하고, 루프를 사용하여 코루틴을 실행하고, 마지막으로 루프를 닫는 작업이 포함하고 있었는데, **`asyncio.run`**은 이러한 모든 단계를 자동으로 처리
4. **사용법**: **`asyncio.run`**은 비동기 프로그램을 실행하기 위한 주 진입점으로 사용. run은 **한 번만 호출**되어야 하며, 여러 번 호출하면 문제가 발생할 수 있다. 그 이유는 매번 새로운 이벤트 루프를 생성하고 닫기 때문.
5. **예제**
    
    ```python
    import asyncio
    
    async def main():
        # your async code here
        pass
    
    asyncio.run(main())
    ```